
CoreMedia Monitoring API - v2

Short description of the REST API

  -> Please take a look at the Documentation for more Examples! <-

  - Shows all hosts known to the monitoring
    curl \
      --silent \
      --request GET \
      http://localhost/api/v2/host | \
      json_reformat

  - View the information about the host $name
    curl \
      --silent \
      --request GET \
      http://localhost/api/v2/host/${HOSTNAME} | \
      json_reformat


  - Add customized configuration (eg. Ports)
    curl \
      --silent \
      --request POST \
      --data '{ "ports": [3306,9100,28017] }' \
      http://localhost/api/v2/config/${HOSTNAME} | \
      json_reformat

  - List custom configuration
    curl \
      --silent \
      http://localhost/api/v2/config/${HOSTNAME} | \
      json_reformat

  - Delete custom configuration
    curl \
      --silent \
      --request DELETE \
      http://localhost/api/v2/config/${HOSTNAME} | \
      json_reformat


  - Adding a Host to monitoring
    curl \
      --silent \
      --request POST \
      --data '{ "force": true }' \
      http://localhost/api/v2/host/${HOSTNAME} | \
      json_reformat

  - Remove Host from Monitoring
    curl \
      --silent \
      --request DELETE \
      --data '{ "grafana": true }' \
      http://localhost/api/v2/host/${HOSTNAME} | \
      json_reformat


  - Create an annotation that the host was created
    curl \
      --silent \
      --request POST \
      --data '{ "command": "create" }' \
      http://localhost/api/v2/annotation/${HOSTNAME} | \
      json_reformat

  - Create an annotation that the host was deleted
    curl \
      --silent \
      --request POST \
      --data '{ "command": "destroy" }' \
      http://localhost/api/v2/annotation/${HOSTNAME} | \
      json_reformat

  - Create an annotation for starting a load test
    curl \
      --silent \
      --request POST \
      --data '{ "command": "loadtest", "argument": "start" }' \
      http://localhost/api/v2/annotation/${HOSTNAME} | \
      json_reformat

  - Creates an annotation for terminating a load test
    curl \
      --silent \
      --request POST \
      --data '{ "command": "loadtest", "argument": "stop" }' \
      http://localhost/api/v2/annotation/${HOSTNAME} | \
      json_reformat

  - Creates an annotation for a deployment
    curl \
      --silent \
      --request POST \
      --data '{ "command": "deployment", "message": "version 7.1.50", "tags": ["7.1.50"] }' \
      http://localhost/api/v2/annotation/${HOSTNAME} | \
      json_reformat

