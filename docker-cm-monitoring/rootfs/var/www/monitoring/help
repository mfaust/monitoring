
CoreMedia Monitoring API - v1.0

Kurzbeschreibung der ReST-API

  Zeigt alle dem Monitoring bekannten Hosts (steht zur Zeit nicht zur Verfügung)
    curl http://localhost/api

  Anzeigen der Information zu einem Host
    curl http://localhost/api/$name

  Neu Hinzufügen eines Hosts zum Monitoring
  Dabei wird das Service Discovery gestartet, Checks für Icinga2 erstellt und die Grafana Dashboards angelegt
    curl -X POST http://localhost/api/$name

  Erneutes hinzufügen eines Hosts zum Monitoring
  Löscht allerdings vorher alle Service Discovery Daten, Icinga2 Checks und Grafana Dashboards
    curl -X POST http://localhost/api/$name/force

  Entfernen eines Hosts aus dem Monitoring
  Grafana Dashboards bleiben dabei erhalten und können damit weiterhin genutzte werden
    curl -X DELETE http://localhost/api/$name

  Entfernen eines Hosts aus dem Monitoring, inkl. dem entfernen der Grafana Dashboards
    curl -X DELETE http://localhost/api/$name/force

  Erstellen einer Annotation, dass er Host erstellt wurde
    curl -X POST http://localhost/api/a/node/create/$name

  Erstellen einer Annotation, dass er Host gelöscht wurde
    curl -X POST http://localhost/api/a/node/destroy/$name

  Erstellen einer Annotation für das starten eines Lasttests
    curl -X POST http://localhost/api/a/loadtest/start/$name

  Erstellt eine Annotation für das beenden eines Lasttests
    curl -X POST http://localhost/api/a/loadtest/stop/$name

  Erstellt eine Annotation für ein Deployment
    curl -X POST http://localhost/api/a/deployment/$name/$text

  Erstellt einer freien Annotation (kann zu problemen führen)
  'tags' kann hier eine reiche von Tags enthalten, die mittels '+' getrennt sein müssen
    curl -X POST http://localhost/api/a/$name/$descr/$text/$tags

  Fügt ein Übersichtsdashboard für eine Gruppe von Hosts hinzu.
  Die Hostnames werden durch + verbunden. Die Hosts müssen dem Monitoring bereits hinzugefügt worden sein.
    curl -X POST http://localhost/api/g/$names

  Fügt ein Übersichtsdashboard für eine Gruppe von Hosts hinzu, löscht vorher das Dashboard.
  Die Hostnames werden durch + verbunden. Die Hosts müssen dem Monitoring bereits hinzugefügt worden sein.
    curl -X POST http://localhost/api/g/$names/force

