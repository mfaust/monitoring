
object NotificationCommand "service-aws-notification" {

    import "plugin-notification-command"

    command = [ SysconfDir + "/icinga2/scripts/aws-notifications.rb" ]

    env = {
        "NOTIFICATIONTYPE" = "$notification.type$"
        "SERVICENAME" = "$service.name$"
        "SERVICEDISPLAYNAME" = "$service.display_name$"
        "HOSTNAME" = "$host.name$"
        "HOSTADDRESS" = "$address$"
        "HOSTDISPLAYNAME" = "$host.display_name$"
        "SERVICESTATE" = "$service.state$"
        "SERVICESTATETYPE" = "$service.state_type$"
        "SERVICEDURATION" = "$service.duration_sec$"
        "SERVICEPERFDATA" = "$service.perfdata$"
        "LASTCHECK" = "$service.last_check$"
        "LASTSTATE" = "$service.last_state$"
        "LASTSTATETYPE" = "$service.last_state_type$"
        "SERVICEOUTPUT" = "$service.output$"
        "NOTIFICATIONAUTHORNAME" = "$notification.author$"
        "NOTIFICATIONCOMMENT" = "$notification.comment$"
    }
}

object NotificationCommand "host-aws-notification" {

    import "plugin-notification-command"

    command = [ SysconfDir + "/icinga2/scripts/aws-notifications.rb" ]

    env = {
        "NOTIFICATIONTYPE" = "$notification.type$"
        "HOSTNAME" = "$host.name$"
        "HOSTDISPLAYNAME" = "$host.display_name$"
        "HOSTADDRESS" = "$address$"
        "HOSTSTATE" = "$host.state$"
        "HOSTSTATETYPE" = "$host.state_type$"
        "HOSTDURATION" = "$host.duration_sec$"
        "HOSTPERFDATA" = "$host.perfdata$"
        "LASTCHECK" = "$host.last_check$"
        "LASTSTATE" = "$host.last_state$"
        "LASTSTATETYPE" = "$host.last_state_type$"
        "HOSTOUTPUT" = "$host.output$"
        "NOTIFICATIONAUTHORNAME" = "$notification.author$"
        "NOTIFICATIONCOMMENT" = "$notification.comment$"
    }
}
